# Repository Guidelines

## Project Structure & Module Organization
- `src/` holds the TypeScript service code (entry points: `src/index.ts`, `src/app.ts`).
- `src/controllers/`, `src/routes/`, `src/services/`, `src/models/`, `src/validators/` contain the API layers and validation logic.
- `scripts/` contains MongoDB utility scripts (seed/clean/status/index generation).
- `migrations/` stores database migration artifacts.
- `dist/` is the build output (generated by `npm run build`).
- `__tests__/` is reserved for tests; currently empty.

## Build, Test, and Development Commands
- `npm run dev` starts the dev server with nodemon.
- `npm run build` bundles to `dist/` via `tsup`.
- `npm run start` runs the compiled server from `dist/index.js`.
- `npm run type-check` runs `tsc --noEmit`.
- `npm run lint` / `npm run lint:fix` run ESLint checks and fixes.
- `npm run format` / `npm run format:check` run Prettier formatting.
- `npm run db:seed`, `npm run db:clean`, `npm run db:status`, `npm run db:generate-indexes`
  manage MongoDB data and indexes.

## Coding Style & Naming Conventions
- TypeScript with strict `tsconfig.json` settings; prefer explicit types and avoid `any`.
- Prettier: 2-space indentation, single quotes, semicolons, trailing commas (ES5).
- ESLint enforces no unused vars, prefer-const, optional chaining, and import hygiene.
- File naming: use `kebab-case` for directories and `camelCase`/`PascalCase` for TS
  identifiers; tests should be `*.test.ts` or `*.spec.ts`.

## Testing Guidelines
- No automated test runner is wired yet; `npm test` currently exits with an error.
- Add tests under `__tests__/` with `*.test.ts` or `*.spec.ts`, and update the `test`
  script when introducing a framework (e.g., Jest or Vitest).

## Commit & Pull Request Guidelines
- Commit messages follow conventional patterns like `feat(scope): summary`,
  `refactor(scope): summary`, `chore(scope): summary`.
- PRs should include: clear description, linked issue/ticket (if any), and evidence of
  local verification (e.g., `npm run type-check`, `npm run lint`).

## Security & Configuration Tips
- Copy `.env.example` to `.env` and keep secrets out of Git.
- Use `docker-compose.yml` for local infra when available; keep config changes documented.
