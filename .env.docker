# =============================================================================
# PawPa Backend - Coolify Environment Variables Template
# =============================================================================
# This template file contains all environment variables needed for deploying
# PawPa Backend on Coolify. Copy this file to .env.docker and configure
# the values according to your deployment requirements.
#
# SECURITY NOTE: Never commit actual environment variable values to version control.
# This file should only contain templates and examples.
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------

# Environment mode (development, production, test)
# Default: production
# Coolify Configuration: Set in Coolify UI under Environment Variables
NODE_ENV=production

# Server port for the application to listen on
# Default: 3000
# Coolify Configuration: Set in Coolify UI under Environment Variables
PORT=3000

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------

# SQLite database file path
# Default: /app/data/pawpa.db
# Coolify Configuration: Set in Coolify UI under Environment Variables
# Note: The /app/data directory is mounted as a persistent volume in Coolify
DATABASE_URL=/app/data/pawpa.db

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------

# Better-Auth secret key for JWT token signing and session management
# REQUIRED: This variable must be set for the application to function
# Coolify Configuration: Set in Coolify UI under Environment Variables
#
# SECURITY CONSIDERATIONS:
# - Use a strong, random string with at least 32 characters
# - Generate using: openssl rand -base64 32
# - Never share this value publicly or commit to version control
# - Rotate periodically in production environments
# - Use different values for development and production
#
# Example generation command:
# AUTH_SECRET=test-secret-key-for-validation-only-32-chars-minimumyour-generated-secret-key-here-32-chars-minimum
AUTH_SECRET=test-secret-key-for-validation-only-32-chars-minimum

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------

# CORS allowed origin(s) for cross-origin requests
# Default: * (allows all origins - not recommended for production)
# Coolify Configuration: Set in Coolify UI under Environment Variables
#
# SECURITY CONSIDERATIONS:
# - In production, specify exact domains: https://yourdomain.com
# - For multiple domains: https://domain1.com,https://domain2.com
# - Avoid wildcard (*) in production environments
#
# Examples:
# CORS_ORIGIN=*                          # Development - allows all origins
# CORS_ORIGIN=https://yourapp.com        # Production - single domain
# CORS_ORIGIN=https://app.com,https://admin.com  # Multiple domains
CORS_ORIGIN=*

# -----------------------------------------------------------------------------
# RATE LIMITING CONFIGURATION
# -----------------------------------------------------------------------------

# Rate limit window duration in milliseconds
# Default: 900000 (15 minutes)
# Coolify Configuration: Set in Coolify UI under Environment Variables
#
# This controls the time window for rate limiting calculations.
# Lower values create more frequent reset windows.
# Higher values provide longer-term protection.
RATE_LIMIT_WINDOW_MS=900000

# Maximum number of requests allowed per window per IP address
# Default: 100
# Coolify Configuration: Set in Coolify UI under Environment Variables
#
# SECURITY CONSIDERATIONS:
# - Adjust based on your application's expected traffic patterns
# - Lower values provide better protection against abuse
# - Higher values allow more legitimate traffic
# - Monitor logs to determine optimal values for your use case
#
# Examples:
# RATE_LIMIT_MAX_REQUESTS=100   # Standard protection
# RATE_LIMIT_MAX_REQUESTS=50    # Stricter protection
# RATE_LIMIT_MAX_REQUESTS=1000  # More permissive for high-traffic apps
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# COOLIFY-SPECIFIC NOTES
# -----------------------------------------------------------------------------
#
# 1. VARIABLE INJECTION:
#    Coolify automatically injects environment variables into the container.
#    No special syntax is required in docker-compose.yml files.
#
# 2. PERSISTENT STORAGE:
#    The /app/data directory is automatically mounted as a persistent volume
#    to ensure database persistence across container restarts and updates.
#
# 3. HEALTH CHECKS:
#    Coolify monitors the application health through the /health endpoint.
#    Ensure this endpoint is accessible and returns proper HTTP status codes.
#
# 4. SECURITY BEST PRACTICES:
#    - Always use strong, unique AUTH_SECRET values
#    - Restrict CORS_ORIGIN in production environments
#    - Monitor rate limiting logs and adjust as needed
#    - Regularly rotate sensitive values like AUTH_SECRET
#
# 5. DEPLOYMENT WORKFLOW:
#    a) Copy this template to .env.docker
#    b) Configure required variables (especially AUTH_SECRET)
#    c) Add environment variables in Coolify UI
#    d) Deploy through Coolify dashboard
#    e) Monitor application logs and health status
#
# =============================================================================
# END OF TEMPLATE
# =============================================================================